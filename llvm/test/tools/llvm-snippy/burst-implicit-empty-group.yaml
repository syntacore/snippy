# RUN: llvm-snippy %s -seed=1 -model-plugin=None |& FileCheck %s

options:
    mtriple: riscv64-unknown-elf
    mattr: +v
    dump-mf: on
    num-instrs: 100


sections:
    - no:        1
      VMA:       0x80000000
      SIZE:      0x400000
      LMA:       0x80000000
      ACCESS:    rx
    - no:        2
      VMA:       0x90000000
      SIZE:      0x400000
      LMA:       0x90000000
      ACCESS:    rw
    - no:        3
      VMA:       0x70000000
      SIZE:      0x400000
      LMA:       0x70000000
      ACCESS:    r

histogram:
    - [VSETVL, 1.0]
    - [VLE16_V, 1.0]
    - [VSE16_V, 1.0]
    - [VLE32_V, 1.0]
    - [VSE32_V, 1.0]

burst:
    mode: custom
    min-size: 4
    max-size: 16
    groupings:
      - [VLE16_V, VSE16_V]
      - [VLE32_V, VSE32_V]

# CHECK: warning: (burst-mode) Opcode VLE16_V is not supported in the
# CHECK-SAME: burst mode: generator will generate it but not in a burst group.
# CHECK-NEXT: warning: (burst-mode) Opcode VSE16_V is not supported in the
# CHECK-SAME: burst mode: generator will generate it but not in a burst group.
# CHECK-NEXT: warning: (burst-mode) Empty burst group: no supported opcodes were
# CHECK-SAME: specified, this group will be ignored.

# CHECK: warning: (burst-mode) Opcode VLE32_V is not supported in the
# CHECK-SAME: burst mode: generator will generate it but not in a burst group.
# CHECK-NEXT: warning: (burst-mode) Opcode VSE32_V is not supported in the
# CHECK-SAME: burst mode: generator will generate it but not in a burst group.
# CHECK-NEXT: warning: (burst-mode) Empty burst group: no supported opcodes were
# CHECK-SAME: specified, this group will be ignored.

# CHECK: VSE16_V
# CHECK: VLE16_V

# CHECK: VSE32_V
# CHECK: VLE32_V