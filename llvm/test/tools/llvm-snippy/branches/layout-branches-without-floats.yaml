# RUN: llvm-snippy %s -march=riscv64-unknown-elf \
# RUN:   -num-instrs=10000  \
# RUN:   -init-regs-in-elf -force-emit-linker-script \
# RUN:   -reserved-regs-list=X1,X2,X8 -mattr=+c,+a,+m -last-instr=RET

include:
- "../Inputs/memory-aligned.yaml"

sections:
  - no:        1
    VMA:       0x210000
    SIZE:      0x100000
    LMA:       0x210000
    ACCESS:    rx
  - no:        2
    VMA:       0x80002000
    SIZE:      0x100000
    LMA:       0x80002000
    ACCESS:    rw

histogram:
  # branches
  - [BEQ, 18.5]
  - [BGE, 18.5]
  - [BGEU, 18.5]
  - [BLT, 18.5]
  - [BLTU, 18.5]
  - [BNE, 18.5]
  - [C_BEQZ, 18.5]
  - [C_BNEZ, 18.5]
  - [C_J, 18.5]
  # loads/stores
  - [C_LD, 7.25]
  - [C_LW, 7.25]
  - [C_SD, 7.25]
  - [C_SW, 7.25]
  - [LB, 7.25]
  - [LBU, 7.25]
  - [LD, 7.25]
  - [LH, 7.25]
  - [LHU, 7.25]
  - [LR_D, 7]
  - [LR_D_AQ, 7]
  - [LR_W, 7]
  - [LR_W_AQ, 7]
  - [LW, 7.25]
  - [LWU, 7.25]
  - [SB, 7.25]
  - [SC_D, 7]
  - [SC_D_RL, 7]
  - [SC_W, 7]
  - [SC_W_RL, 7]
  - [SD, 7.25]
  - [SH, 7.25]
  - [SW, 7.25]
  # other
  - [ADD, 4.66]
  - [ADDI, 4.66]
  - [ADDIW, 4.66]
  - [ADDW, 4.66]
  - [AMOADD_D, 4.66]
  - [AMOADD_D_AQ, 4.66]
  - [AMOADD_D_AQ_RL, 4.66]
  - [AMOADD_D_RL, 4.66]
  - [AMOADD_W, 4.66]
  - [AMOADD_W_AQ, 4.66]
  - [AMOADD_W_AQ_RL, 4.66]
  - [AMOADD_W_RL, 4.66]
  - [AMOAND_D, 4.66]
  - [AMOAND_D_AQ, 4.66]
  - [AMOAND_D_AQ_RL, 4.66]
  - [AMOAND_D_RL, 4.66]
  - [AMOAND_W, 4.66]
  - [AMOAND_W_AQ, 4.66]
  - [AMOAND_W_AQ_RL, 4.66]
  - [AMOAND_W_RL, 4.66]
  - [AMOMAXU_D, 4.66]
  - [AMOMAXU_D_AQ, 4.66]
  - [AMOMAXU_D_AQ_RL, 4.66]
  - [AMOMAXU_D_RL, 4.66]
  - [AMOMAXU_W, 4.66]
  - [AMOMAXU_W_AQ, 4.66]
  - [AMOMAXU_W_AQ_RL, 4.66]
  - [AMOMAXU_W_RL, 4.66]
  - [AMOMAX_D, 4.66]
  - [AMOMAX_D_AQ, 4.66]
  - [AMOMAX_D_AQ_RL, 4.66]
  - [AMOMAX_D_RL, 4.66]
  - [AMOMAX_W, 4.66]
  - [AMOMAX_W_AQ, 4.66]
  - [AMOMAX_W_AQ_RL, 4.66]
  - [AMOMAX_W_RL, 4.66]
  - [AMOMINU_D, 4.66]
  - [AMOMINU_D_AQ, 4.66]
  - [AMOMINU_D_AQ_RL, 4.66]
  - [AMOMINU_D_RL, 4.66]
  - [AMOMINU_W, 4.66]
  - [AMOMINU_W_AQ, 4.66]
  - [AMOMINU_W_AQ_RL, 4.66]
  - [AMOMINU_W_RL, 4.66]
  - [AMOMIN_D, 4.66]
  - [AMOMIN_D_AQ, 4.66]
  - [AMOMIN_D_AQ_RL, 4.66]
  - [AMOMIN_D_RL, 4.66]
  - [AMOMIN_W, 4.66]
  - [AMOMIN_W_AQ, 4.66]
  - [AMOMIN_W_AQ_RL, 4.66]
  - [AMOMIN_W_RL, 4.66]
  - [AMOOR_D, 4.66]
  - [AMOOR_D_AQ, 4.66]
  - [AMOOR_D_AQ_RL, 4.66]
  - [AMOOR_D_RL, 4.66]
  - [AMOOR_W, 4.66]
  - [AMOOR_W_AQ, 4.66]
  - [AMOOR_W_AQ_RL, 4.66]
  - [AMOOR_W_RL, 4.66]
  - [AMOSWAP_D, 4.66]
  - [AMOSWAP_D_AQ, 4.66]
  - [AMOSWAP_D_AQ_RL, 4.66]
  - [AMOSWAP_D_RL, 4.66]
  - [AMOSWAP_W, 4.66]
  - [AMOSWAP_W_AQ, 4.66]
  - [AMOSWAP_W_AQ_RL, 4.66]
  - [AMOSWAP_W_RL, 4.66]
  - [AMOXOR_D, 4.66]
  - [AMOXOR_D_AQ, 4.66]
  - [AMOXOR_D_AQ_RL, 4.66]
  - [AMOXOR_D_RL, 4.66]
  - [AMOXOR_W, 4.66]
  - [AMOXOR_W_AQ, 4.66]
  - [AMOXOR_W_AQ_RL, 4.66]
  - [AMOXOR_W_RL, 4.66]
  - [AND, 4.66]
  - [ANDI, 4.66]
  - [C_ADD, 4.66]
  - [C_ADDI, 4.66]
  - [C_ADDIW, 4.66]
  - [C_ADDI_HINT_IMM_ZERO, 4.66]
  - [C_NOP, 4.66]
  - [C_ADDW, 4.66]
  - [C_ADD_HINT, 4.66]
  - [C_AND, 4.66]
  - [C_ANDI, 4.66]
  - [C_LI, 4.66]
  - [C_LI_HINT, 4.66]
  - [C_LUI, 4.66]
  - [C_LUI_HINT, 4.66]
  - [C_MV, 4.66]
  - [C_MV_HINT, 4.66]
  - [C_NOP, 4.66]
  - [C_NOP_HINT, 4.66]
  - [C_OR, 4.66]
  - [C_SLLI, 4.66]
  - [C_SLLI64_HINT, 4.66]
  - [C_SLLI_HINT, 4.66]
  - [C_SRAI, 4.66]
  - [C_SRAI64_HINT, 4.66]
  - [C_SRLI, 4.66]
  - [C_SRLI64_HINT, 4.66]
  - [C_SUB, 4.66]
  - [C_SUBW, 4.66]
  - [C_XOR, 4.66]
  - [DIV, 4.66]
  - [DIVU, 4.66]
  - [DIVUW, 4.66]
  - [DIVW, 4.66]
  - [LUI, 4.66]
  - [MUL, 4.66]
  - [MULH, 4.66]
  - [MULHSU, 4.66]
  - [MULHU, 4.66]
  - [MULW, 4.66]
  - [OR, 4.66]
  - [ORI, 4.66]
  - [REM, 4.66]
  - [REMU, 4.66]
  - [REMUW, 4.66]
  - [REMW, 4.66]
  - [SLL, 4.66]
  - [SLLI, 4.66]
  - [SLLIW, 4.66]
  - [SLLW, 4.66]
  - [SLT, 4.66]
  - [SLTI, 4.66]
  - [SLTIU, 4.66]
  - [SLTU, 4.66]
  - [SRA, 4.66]
  - [SRAI, 4.66]
  - [SRAIW, 4.66]
  - [SRAW, 4.66]
  - [SRL, 4.66]
  - [SRLI, 4.66]
  - [SRLIW, 4.66]
  - [SRLW, 4.66]
  - [SUB, 4.66]
  - [SUBW, 4.66]
  - [XOR, 4.66]
  - [XORI, 4.66]
